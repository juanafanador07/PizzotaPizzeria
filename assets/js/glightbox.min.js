!
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = t || self).GLightbox = e()
}(this, function() {
    "use strict";

    function e(t) {
        return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
        function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    function s(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
    function n(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }
    function t(t, e, i) {
        return e && n(t.prototype, e), i && n(t, i), t
    }
    function g(t) {
        return Math.sqrt(t.x * t.x + t.y * t.y)
    }
    var o = (t(i, [{
        key: "add",
        value: function(t) {
            this.handlers.push(t)
        }
    },
    {
        key: "del",
        value: function(t) {
            t || (this.handlers = []);
            for (var e = this.handlers.length; 0 <= e; e--) this.handlers[e] === t && this.handlers.splice(e, 1)
        }
    },
    {
        key: "dispatch",
        value: function() {
            for (var t = 0, e = this.handlers.length; t < e; t++) {
                var i = this.handlers[t];
                "function" == typeof i && i.apply(this.el, arguments)
            }
        }
    }]), i);

    function i(t) {
        s(this, i), this.handlers = [], this.el = t
    }
    function l(t, e) {
        var i = new o(t);
        return i.add(e), i
    }
    var z = (t(v, [{
        key: "start",
        value: function(t) {
            var e, i;
            t.touches && (this.now = Date.now(), this.x1 = t.touches[0].pageX, this.y1 = t.touches[0].pageY, this.delta = this.now - (this.last || this.now), this.touchStart.dispatch(t, this.element), null !== this.preTapPosition.x && (this.isDoubleTap = 0 < this.delta && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30, this.isDoubleTap && clearTimeout(this.singleTapTimeout)), this.preTapPosition.x = this.x1, this.preTapPosition.y = this.y1, this.last = this.now, e = this.preV, 1 < t.touches.length && (this._cancelLongTap(), this._cancelSingleTap(), i = {
                x: t.touches[1].pageX - this.x1,
                y: t.touches[1].pageY - this.y1
            }, e.x = i.x, e.y = i.y, this.pinchStartLen = g(e), this.multipointStart.dispatch(t, this.element)), this._preventTap = !1, this.longTapTimeout = setTimeout(function() {
                this.longTap.dispatch(t, this.element), this._preventTap = !0
            }.bind(this), 750))
        }
    },
    {
        key: "move",
        value: function(t) {
            var e, i, n, s, o, l, r, a, h, c, d, u;
            t.touches && (e = this.preV, i = t.touches.length, n = t.touches[0].pageX, s = t.touches[0].pageY, this.isDoubleTap = !1, 1 < i ? (o = t.touches[1].pageX, l = t.touches[1].pageY, r = {
                x : t.touches[1].pageX - n, y: t.touches[1].pageY - s
            }, null !== e.x && (0 < this.pinchStartLen && (t.zoom = g(r) / this.pinchStartLen, this.pinch.dispatch(t, this.element)), t.angle = (u = function(t, e) {
                var i = g(t) * g(e);
                if (0 == i) return 0;
                var n = (t.x * e.x + t.y * e.y) / i;
                return 1 < n && (n = 1), Math.acos(n)
            }(c = r, d = e), 0 < c.x * d.y - d.x * c.y && (u *= -1), 180 * u / Math.PI), this.rotate.dispatch(t, this.element)), e.x = r.x, e.y = r.y, null !== this.x2 && null !== this.sx2 ? (t.deltaX = (n - this.x2 + o - this.sx2) / 2, t.deltaY = (s - this.y2 + l - this.sy2) / 2) : (t.deltaX = 0, t.deltaY = 0), this.twoFingerPressMove.dispatch(t, this.element), this.sx2 = o, this.sy2 = l): (null !== this.x2 ? (t.deltaX = n - this.x2, t.deltaY = s - this.y2, a = Math.abs(this.x1 - this.x2), h = Math.abs(this.y1 - this.y2), (10 < a || 10 < h) && (this._preventTap = !0)) : (t.deltaX = 0, t.deltaY = 0), this.pressMove.dispatch(t, this.element)),
            this.touchMove.dispatch(t, this.element),
            this._cancelLongTap(),
            this.x2 = n,
            this.y2 = s,
            1 < i && t.preventDefault())
        }
    },
    {
        key: "end",
        value: function(t) {
            var e;
            t.changedTouches && (this._cancelLongTap(), e = this, t.touches.length < 2 && (this.multipointEnd.dispatch(t, this.element), this.sx2 = this.sy2 = null), this.x2 && 30 < Math.abs(this.x1 - this.x2) || this.y2 && 30 < Math.abs(this.y1 - this.y2) ? (t.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2), this.swipeTimeout = setTimeout(function() {
                e.swipe.dispatch(t, e.element)
            }, 0)) : (this.tapTimeout = setTimeout(function() {
                e._preventTap || e.tap.dispatch(t, e.element), e.isDoubleTap && (e.doubleTap.dispatch(t, e.element), e.isDoubleTap = !1)
            }, 0), e.isDoubleTap || (e.singleTapTimeout = setTimeout(function() {
                e.singleTap.dispatch(t, e.element)
            }, 250))), this.touchEnd.dispatch(t, this.element), this.preV.x = 0, this.preV.y = 0, this.zoom = 1, this.pinchStartLen = null, this.x1 = this.x2 = this.y1 = this.y2 = null)
        }
    },
    {
        key: "cancelAll",
        value: function() {
            this._preventTap = !0, clearTimeout(this.singleTapTimeout), clearTimeout(this.tapTimeout), clearTimeout(this.longTapTimeout), clearTimeout(this.swipeTimeout)
        }
    },
    {
        key: "cancel",
        value: function(t) {
            this.cancelAll(), this.touchCancel.dispatch(t, this.element)
        }
    },
    {
        key: "_cancelLongTap",
        value: function() {
            clearTimeout(this.longTapTimeout)
        }
    },
    {
        key: "_cancelSingleTap",
        value: function() {
            clearTimeout(this.singleTapTimeout)
        }
    },
    {
        key: "_swipeDirection",
        value: function(t, e, i, n) {
            return Math.abs(t - e) >= Math.abs(i - n) ? 0 < t - e ? "Left" : "Right" : 0 < i - n ? "Up" : "Down"
        }
    },
    {
        key: "on",
        value: function(t, e) {
            this[t] && this[t].add(e)
        }
    },
    {
        key: "off",
        value: function(t, e) {
            this[t] && this[t].del(e)
        }
    },
    {
        key: "destroy",
        value: function() {
            return this.singleTapTimeout && clearTimeout(this.singleTapTimeout), this.tapTimeout && clearTimeout(this.tapTimeout), this.longTapTimeout && clearTimeout(this.longTapTimeout), this.swipeTimeout && clearTimeout(this.swipeTimeout), this.element.removeEventListener("touchstart", this.start), this.element.removeEventListener("touchmove", this.move), this.element.removeEventListener("touchend", this.end), this.element.removeEventListener("touchcancel", this.cancel), this.rotate.del(), this.touchStart.del(), this.multipointStart.del(), this.multipointEnd.del(), this.pinch.del(), this.swipe.del(), this.tap.del(), this.doubleTap.del(), this.longTap.del(), this.singleTap.del(), this.pressMove.del(), this.twoFingerPressMove.del(), this.touchMove.del(), this.touchEnd.del(), this.touchCancel.del(), this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null, window.removeEventListener("scroll", this._cancelAllHandler), null
        }
    }]), v),
        b = (t(p, [{
            key: "zoomIn",
            value: function() {
                var t, e, i = this.widowWidth();
                
                this.zoomedIn || i <= 768 || ((t = this.img).setAttribute("data-style", t.getAttribute("style")), t.style.maxWidth = t.naturalWidth + "px", t.style.maxHeight = t.naturalHeight + "px", t.naturalWidth > i && (e = i / 2 - t.naturalWidth / 2, this.setTranslate(this.img.parentNode, e, 0)), this.slide.classList.add("zoomed"), this.zoomedIn = !0)
            }
        },
        {
            key: "zoomOut",
            value: function() {
                this.img.parentNode.setAttribute("style", ""), this.img.setAttribute("style", this.img.getAttribute("data-style")), this.slide.classList.remove("zoomed"), this.zoomedIn = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.onclose && "function" == typeof this.onclose && this.onclose()
            }
        },
        {
            key: "dragStart",
            value: function(t) {
                t.preventDefault(), this.zoomedIn ? ("touchstart" === t.type ? (this.initialX = t.touches[0].clientX - this.xOffset, this.initialY = t.touches[0].clientY - this.yOffset) : (this.initialX = t.clientX - this.xOffset, this.initialY = t.clientY - this.yOffset), t.target === this.img && (this.active = !0, this.img.classList.add("dragging"))) : this.active = !1
            }
        },
        {
            key: "dragEnd",
            value: function(t) {
                var e = this;
                t.preventDefault(), this.initialX = this.currentX, this.initialY = this.currentY, this.active = !1, setTimeout(function() {
                    e.dragging = !1, e.img.isDragging = !1, e.img.classList.remove("dragging")
                }, 100)
            }
        },
        {
            key: "drag",
            value: function(t) {
                this.active && (t.preventDefault(), "touchmove" === t.type ? (this.currentX = t.touches[0].clientX - this.initialX, this.currentY = t.touches[0].clientY - this.initialY) : (this.currentX = t.clientX - this.initialX, this.currentY = t.clientY - this.initialY), this.xOffset = this.currentX, this.yOffset = this.currentY, this.img.isDragging = !0, this.dragging = !0, this.setTranslate(this.img, this.currentX, this.currentY))
            }
        },
        {
            key: "onMove",
            value: function(t) {
                var e, i;
                this.zoomedIn && (e = t.clientX - this.img.naturalWidth / 2, i = t.clientY - this.img.naturalHeight / 2, this.setTranslate(this.img, e, i))
            }
        },
        {
            key: "setTranslate",
            value: function(t, e, i) {
                t.style.transform = "translate3d(" + e + "px, " + i + "px, 0)"
            }
        },
        {
            key: "widowWidth",
            value: function() {
                return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth
            }
        }]), p),
        x = navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),
        r = null !== x || void 0 !== document.createTouch || "ontouchstart" in window || "onmsgesturechange" in window || navigator.msMaxTouchPoints,
        a = document.getElementsByTagName("html")[0],
        h = function() {
            var t, e = document.createElement("fakeelement"),
                i = {
                    transition: "transitionend",
                    OTransition: "oTransitionEnd",
                    MozTransition: "transitionend",
                    WebkitTransition: "webkitTransitionEnd"
                };
            
            for (t in i) if (void 0 !== e.style[t]) return i[t]
        }(),
        c = function() {
            var t, e = document.createElement("fakeelement"),
                i = {
                    animation: "animationend",
                    OAnimation: "oAnimationEnd",
                    MozAnimation: "animationend",
                    WebkitAnimation: "webkitAnimationEnd"
                };
            
            for (t in i) if (void 0 !== e.style[t]) return i[t]
        }(),
        d = Date.now(),
        w = {},
        u = {
            selector: ".glightbox",
            elements: null,
            skin: "clean",
            closeButton: !0,
            startAt: null,
            autoplayVideos: !0,
            descPosition: "bottom",
            width: "900px",
            height: "506px",
            videosWidth: "960px",
            beforeSlideChange: null,
            afterSlideChange: null,
            beforeSlideLoad: null,
            afterSlideLoad: null,
            onOpen: null,
            onClose: null,
            loop: !1,
            touchNavigation: !0,
            touchFollowAxis: !0,
            keyboardNavigation: !0,
            closeOnOutsideClick: !0,
            plyr: {
                css: "https://cdn.plyr.io/3.5.6/plyr.css",
                js: "https://cdn.plyr.io/3.5.6/plyr.js",
                config: {
                    ratio: "16:9",
                    youtube: {
                        noCookie: !0,
                        rel: 0,
                        showinfo: 0,
                        iv_load_policy: 3
                    },
                    
                    vimeo: {
                        byline: !1,
                        portrait: !1,
                        title: !1,
                        transparent: !1
                    }
                }
            },
            
            openEffect: "zoomIn",
            closeEffect: "zoomOut",
            slideEffect: "slide",
            moreText: "See more",
            moreLength: 60,
            lightboxHtml: "",
            cssEfects: {
                fade: { in : "fadeIn",
                    out: "fadeOut"
                },
                
                zoom: { in : "zoomIn",
                    out: "zoomOut"
                },
                
                slide: { in : "slideInRight",
                    out: "slideOutLeft"
                },
                
                slide_back: { in : "slideInLeft",
                    out: "slideOutRight"
                }
            },
            
            svg: {
                close: '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 320 512" xml:space="preserve"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg>',
                next: '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 256 512" xml:space="preserve"><path fill="currentColor" d="M24.707 38.101L4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908 437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"></path></svg>',
                prev: '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 256 512" xml:space="preserve"><path fill="currentColor" d="M231.293 473.899l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L70.393 256 251.092 74.87c4.686-4.686 4.686-12.284 0-16.971L231.293 38.1c-4.686-4.686-12.284-4.686-16.971 0L4.908 247.515c-4.686 4.686-4.686 12.284 0 16.971L214.322 473.9c4.687 4.686 12.285 4.686 16.971-.001z"></path></svg>'
            }
        };

    
    function p(t, e) {
        var i = this,
            n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
        if (s(this, p), this.img = t, this.slide = e, this.onclose = n, this.img.setZoomEvents) return !1;
        this.active = !1, this.zoomedIn = !1, this.dragging = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.img.addEventListener("mousedown", function(t) {
            return i.dragStart(t)
        }, !1), this.img.addEventListener("mouseup", function(t) {
            return i.dragEnd(t)
        }, !1), this.img.addEventListener("mousemove", function(t) {
            return i.drag(t)
        }, !1), this.img.addEventListener("click", function(t) {
            if (!i.zoomedIn) return i.zoomIn();
            
            i.zoomedIn && !i.dragging && i.zoomOut()
        }, !1), this.img.setZoomEvents = !0
    }
    function v(t, e) {
        s(this, v), this.element = "string" == typeof t ? document.querySelector(t) : t, this.start = this.start.bind(this), this.move = this.move.bind(this), this.end = this.end.bind(this), this.cancel = this.cancel.bind(this), this.element.addEventListener("touchstart", this.start, !1), this.element.addEventListener("touchmove", this.move, !1), this.element.addEventListener("touchend", this.end, !1), this.element.addEventListener("touchcancel", this.cancel, !1), this.preV = {
            x: null,
            y: null
        }, this.pinchStartLen = null, this.zoom = 1, this.isDoubleTap = !1;

        function i() {}
        this.rotate = l(this.element, e.rotate || i), this.touchStart = l(this.element, e.touchStart || i), this.multipointStart = l(this.element, e.multipointStart || i), this.multipointEnd = l(this.element, e.multipointEnd || i), this.pinch = l(this.element, e.pinch || i), this.swipe = l(this.element, e.swipe || i), this.tap = l(this.element, e.tap || i), this.doubleTap = l(this.element, e.doubleTap || i), this.longTap = l(this.element, e.longTap || i), this.singleTap = l(this.element, e.singleTap || i), this.pressMove = l(this.element, e.pressMove || i), this.twoFingerPressMove = l(this.element, e.twoFingerPressMove || i), this.touchMove = l(this.element, e.touchMove || i), this.touchEnd = l(this.element, e.touchEnd || i), this.touchCancel = l(this.element, e.touchCancel || i), this._cancelAllHandler = this.cancelAll.bind(this), window.addEventListener("scroll", this._cancelAllHandler), this.delta = null, this.last = null, this.now = null, this.tapTimeout = null, this.singleTapTimeout = null, this.longTapTimeout = null, this.swipeTimeout = null, this.x1 = this.x2 = this.y1 = this.y2 = null, this.preTapPosition = {
            x: null,
            y: null
        }
    }
    function m(t) {
        var i = {},
            n = !0,
            e = 0,
            s = arguments.length;
        "[object Boolean]" === Object.prototype.toString.call(t) && (n = t, e++);
        for (var o = function(t) {
            for (var e in t) Object.prototype.hasOwnProperty.call(t, e) && (n && "[object Object]" === Object.prototype.toString.call(t[e]) ? i[e] = m(!0, i[e], t[e]) : i[e] = t[e])
        }; e < s; e++) o(arguments[e]);
        return i
    }
    u.slideHtml = '<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>', u.lightboxHtml = '<div id="glightbox-body" class="glightbox-container">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gnext gbtn" tabindex="0">{nextSVG}</button>\n    <button class="gprev gbtn" tabindex="1">{prevSVG}</button>\n    <button class="gclose gbtn" tabindex="2">{closeSVG}</button>\n</div>\n</div>';
    var S = {
        isFunction: function(t) {
            return "function" == typeof t
        },
        
        isString: function(t) {
            return "string" == typeof t
        },
        
        isNode: function(t) {
            return !(!t || !t.nodeType || 1 != t.nodeType)
        },
        
        isArray: function(t) {
            return Array.isArray(t)
        },
        
        isArrayLike: function(t) {
            return t && t.length && isFinite(t.length)
        },
        
        isObject: function(t) {
            return "object" === e(t) && null != t && !S.isFunction(t) && !S.isArray(t)
        },
        
        isNil: function(t) {
            return null == t
        },
        
        has: function(t, e) {
            return null !== t && hasOwnProperty.call(t, e)
        },
        
        size: function(t) {
            if (S.isObject(t)) {
                if (t.keys) return t.keys().length;
                var e = 0;
                for (var i in t) S.has(t, i) && e++;
                return e
            }
            return t.length
        },
        
        isNumber: function(t) {
            return !isNaN(parseFloat(t)) && isFinite(t)
        }
    };

    
    function f(t, e) {
        if (!S.isNode(t) && t !== window && t !== document || (t = [t]), S.isArrayLike(t) || S.isObject(t) || (t = [t]), 0 != S.size(t)) if (S.isArrayLike(t) && !S.isObject(t)) for (var i = t.length, n = 0; n < i && !1 !== e.call(t[n], t[n], n, t); n++);
        else if (S.isObject(t)) for (var s in t) if (S.has(t, s) && !1 === e.call(t[s], t[s], s, t)) break
    }
    function y(t, e, i) {
        var n = 1 < arguments.length && void 0 !== e ? e : null,
            s = 2 < arguments.length && void 0 !== i ? i : null,
            o = t[d] = t[d] || [],
            l = {
                all: o,
                evt: null,
                found: null
            };
        
        return n && s && 0 < S.size(o) && f(o, function(t, e) {
            if (t.eventName == n && t.fn.toString() == s.toString()) return l.found = !0, l.evt = e, !1
        }), l
    }
    function T(i, t, e) {
        var n = 1 < arguments.length && void 0 !== t ? t : {},
            s = n.onElement,
            o = n.withCallback,
            l = n.avoidDuplicate,
            r = void 0 === l || l,
            a = n.once,
            h = void 0 !== a && a,
            c = n.useCapture,
            d = void 0 !== c && c,
            u = 2 < arguments.length ? e : void 0,
            g = s || [];

        function p(t) {
            S.isFunction(o) && o.call(u, t, this), h && p.destroy()
        }
        return S.isString(g) && (g = document.querySelectorAll(g)), p.destroy = function() {
            f(g, function(t) {
                var e = y(t, i, p);
                e.found && e.all.splice(e.evt, 1), t.removeEventListener && t.removeEventListener(i, p, d)
            })
        }, f(g, function(t) {
            var e = y(t, i, p);
            (t.addEventListener && r && !e.found || !r) && (t.addEventListener(i, p, d), e.all.push({
                eventName: i,
                fn: p
            }))
        }), p
    }
    function q(e, t) {
        f(t.split(" "), function(t) {
            return e.classList.add(t)
        })
    }
    function I(e, t) {
        f(t.split(" "), function(t) {
            return e.classList.remove(t)
        })
    }
    function D(t, e) {
        return t.classList.contains(e)
    }
    function k(e, t, i) {
        var n = 1 < arguments.length && void 0 !== t ? t : "",
            s = 2 < arguments.length && void 0 !== i && i;
        if (e && "" !== n) {
            if ("none" == n) return S.isFunction(s) && s(), 0;
            var o = n.split(" ");
            f(o, function(t) {
                q(e, "g" + t)
            }), T(c, {
                onElement: e,
                avoidDuplicate: !1,
                once: !0,
                withCallback: function(t, e) {
                    f(o, function(t) {
                        I(e, "g" + t)
                    }), S.isFunction(s) && s()
                }
            })
        }
    }
    function E(t) {
        var e = document.createDocumentFragment(),
            i = document.createElement("div");
        for (i.innerHTML = t; i.firstChild;) e.appendChild(i.firstChild);
        return e
    }
    function X(t, e) {
        for (; t !== document.body;) if ("function" == typeof(t = t.parentElement).matches ? t.matches(e) : t.msMatchesSelector(e)) return t
    }
    function A(t) {
        t.style.display = "block"
    }
    function C(t) {
        t.style.display = "none"
    }
    function Y() {
        return {
            width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
            height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight
        }
    }
    function L(t) {
        var e;
        D(t.target, "plyr--html5") && (e = X(t.target, ".gslide-media"), "enterfullscreen" == t.type && q(e, "fullscreen"), "exitfullscreen" == t.type && I(e, "fullscreen"))
    }
    function M(t) {
        return S.isNumber(t) ? "".concat(t, "px") : t
    }
    function N(t, e) {
        var i = "video" == t.type ? M(e.videosWidth) : M(e.width),
            n = M(e.height);
        return t.width = S.has(t, "width") && "" !== t.width ? M(t.width) : i, t.height = S.has(t, "height") && "" !== t.height ? M(t.height) : n, t
    }
    function O() {
        var n = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null,
            s = 1 < arguments.length ? arguments[1] : void 0,
            l = {
                href: "",
                title: "",
                type: "",
                description: "",
                descPosition: s.descPosition,
                effect: "",
                width: "",
                height: "",
                node: n,
                content: !1
            };
        
        if (S.isObject(n) && !S.isNode(n)) {
            S.has(n, "type") || (S.has(n, "content") && n.content ? n.type = "inline" : S.has(n, "href") && (n.type = _(n.href)));
            var t = m(l, n);
            return N(t, s), t
        }
        var e, i, o, r, a, h = "",
            c = n.getAttribute("data-glightbox"),
            d = n.nodeName.toLowerCase();
        
        return "a" === d && (h = n.href), "img" === d && (h = n.src), l.href = h, f(l, function(t, e) {
            S.has(s, e) && "width" !== e && (l[e] = s[e]);
            var i = n.dataset[e];
            S.isNil(i) || (l[e] = i)
        }), l.content && (l.type = "inline"), !l.type && h && (l.type = _(h)), S.isNil(c) ? ("a" == d && (e = n.title, S.isNil(e) || "" === e || (l.title = e)), "img" == d && (i = n.alt, S.isNil(i) || "" === i || (l.title = i)), o = n.getAttribute("data-description"), S.isNil(o) || "" === o || (l.description = o)) : (r = [], f(l, function(t, e) {
            r.push(";\\s?" + e)
        }), r = r.join("\\s?:|"), "" !== c.trim() && f(l, function(t, e) {
            var i, n = c,
                s = new RegExp("s?" + e + "s?:s?(.*?)(" + r + "s?:|$)"),
                o = n.match(s);
            o && o.length && o[1] && (i = o[1].trim().replace(/;\s*$/, ""), l[e] = i)
        })), l.description && "." == l.description.substring(0, 1) && document.querySelector(l.description) ? l.description = document.querySelector(l.description).innerHTML : (a = n.querySelector(".glightbox-desc")) && (l.description = a.innerHTML), N(l, s), l
    }
    function P() {
        var t = this,
            e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null,
            i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {},
            n = 2 < arguments.length && void 0 !== arguments[2] && arguments[2];
        if (D(e, "loaded")) return !1;
        S.isFunction(this.settings.beforeSlideLoad) && this.settings.beforeSlideLoad(e, i);
        var s, o, l, r, a, h, c = i.type,
            d = i.descPosition,
            u = e.querySelector(".gslide-media"),
            g = e.querySelector(".gslide-title"),
            p = e.querySelector(".gslide-desc"),
            v = e.querySelector(".gdesc-inner"),
            m = n;
        if (S.isFunction(this.settings.afterSlideLoad) && (m = function() {
            S.isFunction(n) && n(), t.settings.afterSlideLoad(e, i)
        }), "" == i.title && "" == i.description ? v && v.parentNode.parentNode.removeChild(v.parentNode) : (g && "" !== i.title ? g.innerHTML = i.title : g.parentNode.removeChild(g), p && "" !== i.description ? x && 0 < this.settings.moreLength ? (i.smallDescription = function(t) {
            var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 50,
                i = 2 < arguments.length && void 0 !== arguments[2] && arguments[2],
                n = i;
            if ((t = t.trim()).length <= e) return t;
            var s = t.substr(0, e - 1);
            return n ? s + '... <a href="#" class="desc-more">' + i + "</a>" : s
        }(i.description, this.settings.moreLength, this.settings.moreText), p.innerHTML = i.smallDescription, function o(t, l) {
            var e = t.querySelector(".desc-more");
            if (!e) return !1;
            T("click", {
                onElement : e, withCallback : function(t, e) {
                    t.preventDefault();
                    
                    var i = document.body,
                        n = X(e, ".gslide-desc");
                    if (!n) return !1;
                    n.innerHTML = l.description, q(i, "gdesc-open");
                    var s = T("click", {
                        onElement: [i, X(n, ".gslide-description")],
                        withCallback: function(t, e) {
                            "a" !== t.target.nodeName.toLowerCase() && (I(i, "gdesc-open"), q(i, "gdesc-closed"), n.innerHTML = l.smallDescription, o(n, l), setTimeout(function() {
                                I(i, "gdesc-closed")
                            }, 400), s.destroy())
                        }
                    })
                }
            })
        }.apply(this, [p, i])): p.innerHTML = i.description: p.parentNode.removeChild(p),
        q(u.parentNode, "desc-".concat(d)),
        q(v.parentNode, "description-".concat(d))), q(u, "gslide-".concat(c)), q(e, "loaded"), "video" === c) return q(u.parentNode, "gvideo-container"), u.insertBefore(E('<div class="gvideo-wrapper"></div>'), u.firstChild), void
        function(t, d, u) {
            var g = this,
                p = "gvideo" + d.index,
                v = t.querySelector(".gvideo-wrapper");
            B(this.settings.plyr.css);
            var m = d.href,
                e = location.protocol.replace(":", ""),
                f = "",
                y = "",
                b = !1;
            "file" == e && (e = "http"), v.parentNode.style.maxWidth = d.width, B(this.settings.plyr.js, "Plyr", function() {
                var t, e, i;
                if (m.match(/vimeo\.com\/([0-9]*)/) && (t = /vimeo.*\/(\d+)/i.exec(m), f = "vimeo", y = t[1]), (m.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/) || m.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/) || m.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)) && (e = void 0 !== (i = (i = m).replace(/(>|<)/gi, "").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2] ? i[2].split(/[^0-9a-z_\-]/i)[0] : i, f = "youtube", y = e), null !== m.match(/\.(mp4|ogg|webm|mov)$/)) {
                    f = "local";
                    var n = '<video id="' + p + '" ';
                    n += 'style="background:#000; max-width: '.concat(d.width, ';" '), n += 'preload="metadata" ', n += 'x-webkit-airplay="allow" ', n += 'webkit-playsinline="" ', n += "controls ", n += 'class="gvideo-local">';
                    var s, o = m.toLowerCase().split(".").pop(),
                        l = {
                            mp4: "",
                            ogg: "",
                            webm: ""
                        };
                    
                    for (var r in l[o = "mov" == o ? "mp4" : o] = m, l) {
                        l.hasOwnProperty(r) && (s = l[r], d.hasOwnProperty(r) && (s = d[r]), "" !== s && (n += '<source src="'.concat(s, '" type="video/').concat(r, '">')))
                    }
                    b = E(n += "</video>")
                }
                var a = b || E('<div id="'.concat(p, '" data-plyr-provider="').concat(f, '" data-plyr-embed-id="').concat(y, '"></div>'));
                q(v, "".concat(f, "-video gvideo")), v.appendChild(a), v.setAttribute("data-id", p);
                var h = S.has(g.settings.plyr, "config") ? g.settings.plyr.config : {},
                    c = new Plyr("#" + p, h);
                c.on("ready", function(t) {
                    var e = t.detail.plyr;
                    w[p] = e, S.isFunction(u) && u()
                }), c.on("enterfullscreen", L), c.on("exitfullscreen", L)
            })
        }.apply(this, [e, i, m]);
        if ("external" === c) {
            var f = (s = {
                url: i.href,
                callback: m
            }, o = s.url, l = s.allow, r = s.callback, a = s.appendTo, (h = document.createElement("iframe")).className = "vimeo-video gvideo", h.src = o, h.style.width = "100%", h.style.height = "100%", l && h.setAttribute("allow", l), h.onload = function() {
                q(h, "node-ready"), S.isFunction(r) && r()
            }, a && a.appendChild(h), h);
            return u.parentNode.style.maxWidth = i.width, u.parentNode.style.height = i.height, void u.appendChild(f)
        }
        if ("inline" !== c) {
            if ("image" === c) {
                var y = new Image;
                return y.addEventListener("load", function() {
                    !x && y.naturalWidth > y.offsetWidth && (q(y, "zoomable"), new b(y, e, function() {
                        t.resize(e)
                    })), S.isFunction(m) && m()
                }, !1), y.src = i.href, void u.insertBefore(y, u.firstChild)
            }
            S.isFunction(m) && m()
        } else(function(t, e, i) {
            var n, s = this,
                o = t.querySelector(".gslide-media"),
                l = !(!S.has(e, "href") || !e.href) && e.href.split("#").pop().trim(),
                r = !(!S.has(e, "content") || !e.content) && e.content; {
                var a;
                r && (S.isString(r) && (n = E('<div class="ginlined-content">'.concat(r, "</div>"))), S.isNode(r)) && ("none" == r.style.display && (r.style.display = "block"), (a = document.createElement("div")).className = "ginlined-content", a.appendChild(r), n = a)
            }
            if (l) {
                var h = document.getElementById(l);
                if (!h) return !1;
                var c = h.cloneNode(!0);
                c.style.height = e.height, c.style.maxWidth = e.width, q(c, "ginlined-content"), n = c
            }
            if (!n) return console.error("Unable to append inline slide content", e), !1;
            o.style.height = e.height, o.style.width = e.width, o.appendChild(n), this.events["inlineclose" + l] = T("click", {
                onElement: o.querySelectorAll(".gtrigger-close"),
                withCallback: function(t) {
                    t.preventDefault(), s.close()
                }
            }), S.isFunction(i) && i()
        }).apply(this, [e, i, m])
    }
    function B(t, e, i) {
        if (S.isNil(t)) console.error("Inject videos api error");
        else {
            var n;
            if (S.isFunction(e) && (i = e, e = !1), -1 !== t.indexOf(".css")) {
                if ((n = document.querySelectorAll('link[href="' + t + '"]')) && 0 < n.length) return void(S.isFunction(i) && i());
                var s = document.getElementsByTagName("head")[0],
                    o = s.querySelectorAll('link[rel="stylesheet"]'),
                    l = document.createElement("link");
                return l.rel = "stylesheet", l.type = "text/css", l.href = t, l.media = "all", o ? s.insertBefore(l, o[0]) : s.appendChild(l), void(S.isFunction(i) && i())
            }
            if ((n = document.querySelectorAll('script[src="' + t + '"]')) && 0 < n.length) {
                if (S.isFunction(i)) {
                    if (S.isString(e)) return F(function() {
                        return void 0 !== window[e]
                    }, function() {
                        i()
                    }), 0;
                    i()
                }
            } else {
                var r = document.createElement("script");
                r.type = "text/javascript", r.src = t, r.onload = function() {
                    if (S.isFunction(i)) {
                        if (S.isString(e)) return F(function() {
                            return void 0 !== window[e]
                        }, function() {
                            i()
                        }), !1;
                        i()
                    }
                }, document.body.appendChild(r)
            }
        }
    }
    function F(t, e, i, n) {
        var s, o;
        t() ? e() : (i = i || 100, o = setInterval(function() {
            t() && (clearInterval(o), s && clearTimeout(s), e())
        }, i), n && (s = setTimeout(function() {
            clearInterval(o)
        }, n)))
    }
    var _ = function(t) {
        var e = t;
        return null !== (t = t.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|svg)$/) ? "image" : t.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/) || t.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/) || t.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/) || t.match(/vimeo\.com\/([0-9]*)/) || null !== t.match(/\.(mp4|ogg|webm|mov)$/) ? "video" : -1 < t.indexOf("#") && "" !== e.split("#").pop().trim() ? "inline" : t.includes("gajax=true") ? "ajax" : "external"
    };

    
    function j() {
        var d = this;
        if (this.events.hasOwnProperty("keyboard")) return !1;
        this.events.keyboard = T("keydown", {
            onElement: window,
            withCallback: function(t, e) {
                var i, n = (t = t || window.event).keyCode;
                if (9 == n) {
                    var s = !(!document.activeElement || !document.activeElement.nodeName) && document.activeElement.nodeName.toLocaleLowerCase();
                    
                    if ("input" == s || "textarea" == s || "button" == s) return;
                    t.preventDefault();
                    
                    var o = document.querySelectorAll(".gbtn");
                    if (!o || o.length <= 0) return;
                    var l = (function(t) {
                        if (Array.isArray(t)) {
                            for (var e = 0, i = new Array(t.length); e < t.length; e++) i[e] = t[e];
                            return i
                        }
                    }(i = o) ||
                    function(t) {
                        if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) return Array.from(t)
                    }(i) ||
                    function() {
                        throw new TypeError("Invalid attempt to spread non-iterable instance")
                    }()).filter(function(t) {
                        return D(t, "focused")
                    });
                    
                    if (!l.length) {
                        var r = document.querySelector('.gbtn[tabindex="0"]');
                        return void(r && (r.focus(), q(r, "focused")))
                    }
                    o.forEach(function(t) {
                        return I(t, "focused")
                    });
                    
                    var a = (a = l[0].getAttribute("tabindex")) || "0",
                        h = parseInt(a) + 1;
                    h > o.length - 1 && (h = "0");
                    var c = document.querySelector('.gbtn[tabindex="'.concat(h, '"]'));
                    c && (c.focus(), q(c, "focused"))
                }
                39 == n && d.nextSlide(), 37 == n && d.prevSlide(), 27 == n && d.close()
            }
        })
    }
    function W(t, e) {
        var i = 1 < arguments.length && void 0 !== e ? e : "";
        if ("" == i) return t.style.webkitTransform = "", t.style.MozTransform = "", t.style.msTransform = "", t.style.OTransform = "", t.style.transform = "", !1;
        t.style.webkitTransform = i, t.style.MozTransform = i, t.style.msTransform = i, t.style.OTransform = i, t.style.transform = i
    }
    function H(t) {
        var i = D(t, "gslide-media") ? t : t.querySelector(".gslide-media"),
            e = t.querySelector(".gslide-description");
        q(i, "greset"), W(i, "translate3d(0, 0, 0)"), T(h, {
            onElement: i,
            once: !0,
            withCallback: function(t, e) {
                I(i, "greset")
            }
        }), i.style.opacity = "", e && (e.style.opacity = "")
    }
    var V = (t(G, [{
        key: "init",
        value: function() {
            var i = this;
            this.baseEvents = T("click", {
                onElement: this.getSelector(),
                withCallback: function(t, e) {
                    t.preventDefault(), i.open(e)
                }
            })
        }
    },
    {
        key: "open",
        value: function() {
            var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null,
                e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : null;
            if (this.elements = this.getElements(t), 0 == this.elements.length) return !1;
            this.activeSlide = null, this.prevActiveSlideIndex = null, this.prevActiveSlide = null;
            var i = S.isNumber(e) ? e : this.settings.startAt;
            t && S.isNil(i) && (i = this.elements.indexOf(t)) < 0 && (i = 0), S.isNil(i) && (i = 0), this.build(), k(this.overlay, "none" == this.settings.openEffect ? "none" : this.settings.cssEfects.fade. in );
            var n, s = document.body,
                o = window.innerWidth - document.documentElement.clientWidth;
            if (0 < o && ((n = document.createElement("style")).type = "text/css", n.className = "gcss-styles", n.innerText = ".gscrollbar-fixer {margin-right: ".concat(o, "px}"), document.head.appendChild(n), q(s, "gscrollbar-fixer")), q(s, "glightbox-open"), q(a, "glightbox-open"), x && (q(document.body, "glightbox-mobile"), this.settings.slideEffect = "slide"), this.showSlide(i, !0), 1 == this.elements.length ? (C(this.prevButton), C(this.nextButton)) : (A(this.prevButton), A(this.nextButton)), this.lightboxOpen = !0, S.isFunction(this.settings.onOpen) && this.settings.onOpen(), x && r && this.settings.touchNavigation) return function() {
                var r = this;
                if (this.events.hasOwnProperty("touch")) return !1;
                var a, h, c, t = Y(),
                    d = t.width,
                    u = t.height,
                    g = !1,
                    e = null,
                    p = null,
                    v = null,
                    m = !1,
                    i = 1,
                    s = 1,
                    f = !1,
                    y = !1,
                    o = null,
                    l = null,
                    b = null,
                    x = null,
                    w = 0,
                    S = 0,
                    T = !1,
                    k = !1,
                    E = {},
                    A = {},
                    C = 0,
                    L = 0,
                    n = this,
                    M = document.getElementById("glightbox-slider"),
                    N = document.querySelector(".goverlay"),
                    O = (this.loop(), new z(M, {
                        touchStart: function(t) {
                            if (D(t.targetTouches[0].target, "ginner-container") || X(t.targetTouches[0].target, ".gslide-desc")) return g = !1;
                            g = !0, A = t.targetTouches[0], E.pageX = t.targetTouches[0].pageX, E.pageY = t.targetTouches[0].pageY, C = t.targetTouches[0].clientX, L = t.targetTouches[0].clientY, e = n.activeSlide, p = e.querySelector(".gslide-media"), c = e.querySelector(".gslide-inline"), v = null, D(p, "gslide-image") && (v = p.querySelector("img")), I(N, "greset")
                        },
                        
                        touchMove: function(t) {
                            if (g && (A = t.targetTouches[0], !f && !y)) {
                                if (c && c.offsetHeight > u) {
                                    var e = E.pageX - A.pageX;
                                    if (Math.abs(e) <= 13) return !1
                                }
                                m = !0;
                                var i, n = t.targetTouches[0].clientX,
                                    s = t.targetTouches[0].clientY,
                                    o = C - n,
                                    l = L - s;
                                if (Math.abs(o) > Math.abs(l) ? k = !(T = !1) : T = !(k = !1), a = A.pageX - E.pageX, w = 100 * a / d, h = A.pageY - E.pageY, S = 100 * h / u, T && v && (i = 1 - Math.abs(h) / u, N.style.opacity = i, r.settings.touchFollowAxis && (w = 0)), k && (i = 1 - Math.abs(a) / d, p.style.opacity = i, r.settings.touchFollowAxis && (S = 0)), !v) return W(p, "translate3d(".concat(w, "%, 0, 0)"));
                                W(p, "translate3d(".concat(w, "%, ").concat(S, "%, 0)"))
                            }
                        },
                        
                        touchEnd: function() {
                            if (g) {
                                if (m = !1, y || f) return b = o, void(x = l);
                                var t = Math.abs(parseInt(S)),
                                    e = Math.abs(parseInt(w));
                                if (!(29 < t && v)) return t < 29 && e < 25 ? (q(N, "greset"), N.style.opacity = 1, H(p)) : void 0;
                                r.close()
                            }
                        },
                        
                        multipointEnd: function() {
                            setTimeout(function() {
                                f = !1
                            }, 50)
                        },
                        
                        multipointStart: function() {
                            f = !0, i = s || 1
                        },
                        
                        pinch: function(t) {
                            if (!v || m) return !1;
                            f = !0, v.scaleX = v.scaleY = i * t.zoom;
                            var e = i * t.zoom;
                            if (y = !0, e <= 1) return y = !1, e = 1, l = o = b = x = null, void v.setAttribute("style", "");
                            4.5 < e && (e = 4.5), v.style.transform = "scale3d(".concat(e, ", ").concat(e, ", 1)"), s = e
                        },
                        
                        pressMove: function(t) {
                            var e, i, n;
                            y && !f && (e = A.pageX - E.pageX, i = A.pageY - E.pageY, b && (e += b), x && (i += x), l = i, n = "translate3d(".concat(o = e, "px, ").concat(i, "px, 0)"), s && (n += " scale3d(".concat(s, ", ").concat(s, ", 1)")), W(v, n))
                        },
                        
                        swipe: function(t) {
                            if (!y) if (f) f = !1;
                            else {
                                if ("Left" == t.direction) {
                                    if (r.index == r.elements.length - 1) return H(p);
                                    r.nextSlide()
                                }
                                if ("Right" == t.direction) {
                                    if (0 == r.index) return H(p);
                                    r.prevSlide()
                                }
                            }
                        }
                    }));
                this.events.touch = O
            }.apply(this), !1;
            this.settings.keyboardNavigation && j.apply(this)
        }
    },
    {
        key: "openAt",
        value: function() {
            var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0;
            this.open(null, t)
        }
    },
    {
        key: "showSlide",
        value: function() {
            var t = this,
                e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
                i = 1 < arguments.length && void 0 !== arguments[1] && arguments[1];
            A(this.loader), this.index = parseInt(e);
            var n = this.slidesContainer.querySelector(".current");
            n && I(n, "current"), this.slideAnimateOut();
            
            var s, o = this.slidesContainer.querySelectorAll(".gslide")[e];
            D(o, "loaded") ? (this.slideAnimateIn(o, i), C(this.loader)) : (A(this.loader), (s = O(this.elements[e], this.settings)).index = e, this.slidesData[e] = s, P.apply(this, [o, s, function() {
                C(t.loader), t.resize(), t.slideAnimateIn(o, i)
            }])), this.slideDescription = o.querySelector(".gslide-description"), this.slideDescriptionContained = this.slideDescription && D(this.slideDescription.parentNode, "gslide-media"), this.preloadSlide(e + 1), this.preloadSlide(e - 1);
            var l = this.loop();
            
            I(this.nextButton, "disabled"), I(this.prevButton, "disabled"), 0 !== e || l ? e !== this.elements.length - 1 || l || q(this.nextButton, "disabled") : q(this.prevButton, "disabled"), this.activeSlide = o
        }
    },
    {
        key: "preloadSlide",
        value: function(t) {
            var e = this;
            if (t < 0 || t > this.elements.length - 1) return !1;
            if (S.isNil(this.elements[t])) return !1;
            var i = this.slidesContainer.querySelectorAll(".gslide")[t];
            if (D(i, "loaded")) return !1;
            var n = O(this.elements[t], this.settings);
            n.index = t;
            var s = (this.slidesData[t] = n).sourcetype;
            "video" == s || "external" == s ? setTimeout(function() {
                P.apply(e, [i, n])
            }, 200) : P.apply(this, [i, n])
        }
    },
    {
        key: "prevSlide",
        value: function() {
            this.goToSlide(this.index - 1)
        }
    },
    {
        key: "nextSlide",
        value: function() {
            this.goToSlide(this.index + 1)
        }
    },
    {
        key: "goToSlide",
        value: function() {
            var t = 0 < arguments.length && void 0 !== arguments[0] && arguments[0];
            if (this.prevActiveSlide = this.activeSlide, this.prevActiveSlideIndex = this.index, !this.loop() && (t < 0 || t > this.elements.length - 1)) return !1;
            t < 0 ? t = this.elements.length - 1 : t >= this.elements.length && (t = 0), this.showSlide(t)
        }
    },
    {
        key: "insertSlide",
        value: function() {
            var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
                e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : -1;
            this.tmpAddSlides || (this.tmpAddSlides = []), t.atPosition = e, this.tmpAddSlides.push(t)
        }
    },
    {
        key: "slideAnimateIn",
        value: function(t, e) {
            var i, n, s = this,
                o = t.querySelector(".gslide-media"),
                l = t.querySelector(".gslide-description"),
                r = {
                    index: this.prevActiveSlideIndex,
                    slide: this.prevActiveSlide
                },
                a = {
                    index: this.index,
                    slide: this.activeSlide
                };
            
            0 < o.offsetWidth && l && (C(l), l.style.display = ""), I(t, this.effectsClasses), e ? k(t, this.settings.openEffect, function() {
                !x && s.settings.autoplayVideos && s.playSlideVideo(t), S.isFunction(s.settings.afterSlideChange) && s.settings.afterSlideChange.apply(s, [r, a])
            }) : (n = "none" !== (i = this.settings.slideEffect) ? this.settings.cssEfects[i]. in : i, this.prevActiveSlideIndex > this.index && "slide" == this.settings.slideEffect && (n = this.settings.cssEfects.slide_back. in ), k(t, n, function() {
                !x && s.settings.autoplayVideos && s.playSlideVideo(t), S.isFunction(s.settings.afterSlideChange) && s.settings.afterSlideChange.apply(s, [r, a])
            })), setTimeout(function() {
                s.resize(t)
            }, 100), q(t, "current")
        }
    },
    {
        key: "slideAnimateOut",
        value: function() {
            if (!this.prevActiveSlide) return !1;
            var i = this.prevActiveSlide;
            I(i, this.effectsClasses), q(i, "prev");
            var t = this.settings.slideEffect,
                e = "none" !== t ? this.settings.cssEfects[t].out : t;
            this.stopSlideVideo(i), S.isFunction(this.settings.beforeSlideChange) && this.settings.beforeSlideChange.apply(this, [{
                index: this.prevActiveSlideIndex,
                slide: this.prevActiveSlide
            },
            {
                index: this.index,
                slide: this.activeSlide
            }]), this.prevActiveSlideIndex > this.index && "slide" == this.settings.slideEffect && (e = this.settings.cssEfects.slide_back.out), k(i, e, function() {
                var t = i.querySelector(".gslide-media"),
                    e = i.querySelector(".gslide-description");
                t.style.transform = "", I(t, "greset"), t.style.opacity = "", e && (e.style.opacity = ""), I(i, "prev")
            })
        }
    },
    {
        key: "stopSlideVideo",
        value: function(t) {
            S.isNumber(t) && (t = this.slidesContainer.querySelectorAll(".gslide")[t]);
            var e = t ? t.querySelector(".gvideo") : null;
            if (!e) return !1;
            var i, n = e.getAttribute("data-id");
            w && S.has(w, n) && (i = w[n]) && i.play && i.pause()
        }
    },
    {
        key: "playSlideVideo",
        value: function(t) {
            S.isNumber(t) && (t = this.slidesContainer.querySelectorAll(".gslide")[t]);
            var e = t.querySelector(".gvideo");
            if (!e) return !1;
            var i, n = e.getAttribute("data-id");
            w && S.has(w, n) && (i = w[n]) && i.play && i.play()
        }
    },
    {
        key: "setElements",
        value: function(t) {
            this.settings.elements = t
        }
    },
    {
        key: "getElements",
        value: function() {
            var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null,
                i = [];
            this.elements = this.elements ? this.elements : [], !S.isNil(this.settings.elements) && S.isArray(this.settings.elements) && (i = this.settings.elements);
            var e, n = !1,
                s = this.getSelector();
            
            return null === t || (e = t.getAttribute("data-gallery")) && "" !== e && (n = document.querySelectorAll('[data-gallery="'.concat(e, '"]'))), 0 == n && s && (n = document.querySelectorAll(this.getSelector())), n = Array.prototype.slice.call(n), i = i.concat(n), this.tmpAddSlides && this.tmpAddSlides.length && (f(this.tmpAddSlides, function(t) {
                var e = t.atPosition < 0 ? i.length + 1 : t.atPosition;
                i.splice(e, 0, m({}, t))
            }), this.tmpAddSlides.length = 0), i
        }
    },
    {
        key: "getSelector",
        value: function() {
            return "data-" == this.settings.selector.substring(0, 5) ? "*[".concat(this.settings.selector, "]") : this.settings.selector
        }
    },
    {
        key: "getActiveSlide",
        value: function() {
            return this.slidesContainer.querySelectorAll(".gslide")[this.index]
        }
    },
    {
        key: "getActiveSlideIndex",
        value: function() {
            return this.index
        }
    },
    {
        key: "getAnimationClasses",
        value: function() {
            var t, e = [];
            for (var i in this.settings.cssEfects) this.settings.cssEfects.hasOwnProperty(i) && (t = this.settings.cssEfects[i], e.push("g".concat(t. in )), e.push("g".concat(t.out)));
            return e.join(" ")
        }
    },
    {
        key: "build",
        value: function() {
            var i = this;
            if (this.built) return !1;
            var t = S.has(this.settings.svg, "next") ? this.settings.svg.next : "",
                e = S.has(this.settings.svg, "prev") ? this.settings.svg.prev : "",
                n = S.has(this.settings.svg, "close") ? this.settings.svg.close : "",
                s = E(s = (s = (s = (s = this.settings.lightboxHtml).replace(/{nextSVG}/g, t)).replace(/{prevSVG}/g, e)).replace(/{closeSVG}/g, n));
            document.body.appendChild(s);
            var o = document.getElementById("glightbox-body"),
                l = (this.modal = o).querySelector(".gclose");
            this.prevButton = o.querySelector(".gprev"), this.nextButton = o.querySelector(".gnext"), this.overlay = o.querySelector(".goverlay"), this.loader = o.querySelector(".gloader"), this.slidesContainer = document.getElementById("glightbox-slider"), this.events = {}, q(this.modal, "glightbox-" + this.settings.skin), this.settings.closeButton && l && (this.events.close = T("click", {
                onElement: l,
                withCallback: function(t, e) {
                    t.preventDefault(), i.close()
                }
            })), l && !this.settings.closeButton && l.parentNode.removeChild(l), this.nextButton && (this.events.next = T("click", {
                onElement: this.nextButton,
                withCallback: function(t, e) {
                    t.preventDefault(), i.nextSlide()
                }
            })), this.prevButton && (this.events.prev = T("click", {
                onElement: this.prevButton,
                withCallback: function(t, e) {
                    t.preventDefault(), i.prevSlide()
                }
            })), this.settings.closeOnOutsideClick && (this.events.outClose = T("click", {
                onElement: o,
                withCallback: function(t, e) {
                    D(document.body, "glightbox-mobile") || X(t.target, ".ginner-container") || X(t.target, ".gbtn") || D(t.target, "gnext") || D(t.target, "gprev") || i.close()
                }
            })), f(this.elements, function() {
                var t = E(i.settings.slideHtml);
                i.slidesContainer.appendChild(t)
            }), r && q(document.body, "glightbox-touch"), this.events.resize = T("resize", {
                onElement: window,
                withCallback: function() {
                    i.resize()
                }
            }), this.built = !0
        }
    },
    {
        key: "resize",
        value: function() {
            var t, e, i, n, s, o, l, r, a, h, c, d, u, g, p, v, m = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null;
            (m = m || this.activeSlide) && !D(m, "zoomed") && (t = Y(), e = m.querySelector(".gvideo-wrapper"), i = m.querySelector(".gslide-image"), n = this.slideDescription, s = t.width, o = t.height, (s <= 768 ? q : I)(document.body, "glightbox-mobile"), (e || i) && (l = !1, n && (D(n, "description-bottom") || D(n, "description-top")) && !D(n, "gabsolute") && (l = !0), i && (s <= 768 ? i.querySelector("img").setAttribute("style", "") : l && (r = n.offsetHeight, a = (a = this.slidesData[this.index].width) <= s ? a + "px" : "100%", (h = i.querySelector("img")).setAttribute("style", "max-height: calc(100vh - ".concat(r, "px)")), n.setAttribute("style", "max-width: ".concat(h.offsetWidth, "px;")))), e && (c = (S.has(this.settings.plyr.config, "ratio") ? this.settings.plyr.config.ratio : "16:9").split(":"), v = (d = this.slidesData[this.index].width) / (parseInt(c[0]) / parseInt(c[1])), v = Math.floor(v), l && (o -= n.offsetHeight), o < v && d < s ? (p = {
                width : e.offsetWidth * (g = o / (u = e.offsetHeight)), height: u * g
            }, e.parentNode.setAttribute("style", "max-width: ".concat(p.width, "px")), l && n.setAttribute("style", "max-width: ".concat(p.width, "px;"))): (e.parentNode.style.maxWidth = "".concat(d, "px"), l && n.setAttribute("style", "max-width: ".concat(d, "px;"))))))
        }
    },
    {
        key: "reload",
        value: function() {
            this.init()
        }
    },
    {
        key: "loop",
        value: function() {
            var t = S.has(this.settings, "loopAtEnd") ? this.settings.loopAtEnd : null;
            return t = S.has(this.settings, "loop") ? this.settings.loop : t
        }
    },
    {
        key: "close",
        value: function() {
            var n = this;
            if (this.closing) return !1;
            this.closing = !0, this.stopSlideVideo(this.activeSlide), q(this.modal, "glightbox-closing"), k(this.overlay, "none" == this.settings.openEffect ? "none" : this.settings.cssEfects.fade.out), k(this.activeSlide, this.settings.closeEffect, function() {
                if (n.activeSlide = null, n.prevActiveSlideIndex = null, n.prevActiveSlide = null, n.built = !1, n.events) {
                    for (var t in n.events) n.events.hasOwnProperty(t) && n.events[t].destroy();
                    
                    n.events = null
                }
                var e = document.body;
                I(a, "glightbox-open"), I(e, "glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"), n.modal.parentNode.removeChild(n.modal), S.isFunction(n.settings.onClose) && n.settings.onClose();
                
                var i = document.querySelector(".gcss-styles");
                i && i.parentNode.removeChild(i), n.closing = null
            })
        }
    },
    {
        key: "destroy",
        value: function() {
            this.close(), this.baseEvents.destroy()
        }
    }]), G);

    function G() {
        var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
        
        s(this, G), this.settings = m(u, t), this.effectsClasses = this.getAnimationClasses(), this.slidesData = {}
    }
    return function() {
        var t = new V(0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {});
        
        return t.init(), t
    }
});